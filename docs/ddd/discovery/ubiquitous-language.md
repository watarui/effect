# ユビキタス言語辞書

## 概要

このドキュメントは、Effect プロジェクトで使用する共通言語を定義します。
すべてのステークホルダー（開発者、ドメインエキスパート、将来のコントリビューター）が同じ言葉で同じ概念を理解できるようにします。

## 学習ドメイン（Learning Domain）

### 学習セッション（Learning Session）

**定義**: ユーザーが単語を学習する一連の活動の単位。開始と終了が明確で、複数の問題を含む。

**例**: 「今日の学習セッションでは 20 個の単語を復習しました」

**実装での表現**:

```rust
pub struct LearningSession {
    id: SessionId,
    user_id: UserId,
    started_at: DateTime<Utc>,
    completed_at: Option<DateTime<Utc>>,
}
```

### 間隔反復（Spaced Repetition）

**定義**: 記憶の定着を最大化するために、適切な間隔を空けて復習を行う学習方法。

**関連**: SM-2 アルゴリズム、復習間隔、忘却曲線

### 習熟度（Mastery Level）

**定義**: ユーザーが特定の単語をどれだけ理解し記憶しているかを示す指標。0-100% で表現。

**計算方法**: 正答率、復習回数、最後の復習からの経過時間を考慮

### 復習間隔（Review Interval）

**定義**: ある単語を次に復習するまでの日数。SM-2 アルゴリズムによって計算される。

**例**: 「この単語の復習間隔は 7 日です」

### 質問（Question）

**定義**: 学習セッション中にユーザーに提示される問題。様々な形式がある。

**種類**:

- 多肢選択（Multiple Choice）
- タイピング（Typing）
- リスニング（Listening）

## 単語管理ドメイン（Word Management Domain）

### 単語（Word）

**定義**: 学習対象となる英単語とその関連情報の集合。

**構成要素**:

- テキスト（text）: 単語の綴り
- 発音（pronunciation）: IPA 表記
- 意味（meanings）: 複数の意味を持つ場合がある
- 例文（examples）: 使用例

### 意味（Meaning）

**定義**: 単語が持つ個々の意味。品詞と共に管理される。

**例**: "run" の動詞としての意味「走る」、名詞としての意味「走ること」

### 例文（Example）

**定義**: 単語の使用方法を示す文章。文脈と共に理解を深める。

**要素**:

- 文章（sentence）
- 日本語訳（translation）
- 文脈（context）: ビジネス、日常会話など

### カテゴリ（Category）

**定義**: 単語を試験対策や用途別に分類するための区分。複数選択可能。

**例**: IELTS, TOEIC, TOEFL, Business, Academic

### タグ（Tag）

**定義**: 単語をより細かく分類するための自由記述のラベル。

**例**: #technology, #environment, #daily-life

### 協調編集（Collaborative Editing）

**定義**: 複数のユーザーが単語情報を共同で編集・改善できる仕組み。

**関連**: 編集履歴、バージョン管理、楽観的ロック

## ユーザードメイン（User Domain）

### ユーザー（User）

**定義**: システムを利用する個人。学習者であり、場合によっては貢献者でもある。

### 学習目標（Learning Goal）

**定義**: ユーザーが設定する具体的な学習の目標。

**例**: 「IELTS 7.0 を 2025 年 12 月までに達成」

### 日課目標（Daily Goal）

**定義**: 1 日に学習する単語数の目標。

**デフォルト**: 10 単語/日

### ストリーク（Streak）

**定義**: 連続して学習を行った日数。モチベーション維持の指標。

**ルール**: 24 時間以内に学習すれば継続

## 進捗ドメイン（Progress Domain）

### 学習進捗（Learning Progress）

**定義**: ユーザーの学習の進み具合を表す総合的な状態。

**含まれる情報**:

- 学習済み単語数
- 各カテゴリの習熟度
- 学習時間の統計

### 学習統計（Learning Statistics）

**定義**: ユーザーの学習活動を数値化したデータ。

**メトリクス**:

- 正答率（Accuracy Rate）
- 平均応答時間（Average Response Time）
- 学習頻度（Learning Frequency）

### マイルストーン（Milestone）

**定義**: 学習過程で達成すべき重要な節目。

**例**: 100 単語習得、30 日連続学習、IELTS 頻出語 500 語マスター

### 達成バッジ（Achievement Badge）

**定義**: マイルストーンに到達した際に獲得できる視覚的な報酬。

## 技術用語

### アグリゲート（Aggregate）

**定義**: 一貫性の境界を持つ、関連するドメインオブジェクトのクラスター。

**例**: Word アグリゲート（Word + Meanings + Examples）

### ドメインイベント（Domain Event）

**定義**: ドメインで起きた重要な出来事を表す不変のデータ。

**例**: WordCreated, SessionCompleted, StreakUpdated

### 境界づけられたコンテキスト（Bounded Context）

**定義**: 特定のドメインモデルが適用される明確な境界。

**Effect での例**: Learning Context, Word Management Context

### リードモデル（Read Model）

**定義**: クエリ用に最適化されたデータモデル。

**例**: DailyWordList, UserStatisticsView

## アルゴリズム関連

### SM-2 アルゴリズム

**定義**: SuperMemo 2 アルゴリズム。間隔反復学習の計算方法。

**パラメータ**:

- 復習回数（Repetition Count）
- 難易度係数（Easiness Factor）
- 復習間隔（Interval）

### 品質評価（Quality Rating）

**定義**: 回答の質を 0-5 で評価。SM-2 アルゴリズムの入力値。

**スケール**:

- 0-2: 不正解（復習間隔リセット）
- 3-5: 正解（復習間隔延長）

### 忘却曲線（Forgetting Curve）

**定義**: 時間経過と共に記憶が薄れる様子を表す曲線。エビングハウスの研究に基づく。

## 使用上の注意

1. **一貫性**: 同じ概念には必ず同じ用語を使用する
2. **コード内**: 変数名、クラス名、メソッド名に反映する
3. **ドキュメント**: すべての文書で統一する
4. **会話**: チーム内の議論でも使用する

## 更新履歴

- 2025-07-25: 初版作成
