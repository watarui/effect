# 境界づけられたコンテキスト

## 概要

Effect プロジェクトは、6つの境界づけられたコンテキストに分割されています。
各コンテキストは独自の責務を持ち、明確な境界で区切られています。

## コンテキスト一覧

### 1. User Context（ユーザーコンテキスト）

**責務**：

- ユーザー認証（Firebase/Google OAuth）
- ユーザープロファイル管理
- 学習設定（コース選択、目標スコア設定）

**主要な概念**：

- User（ユーザー）
- Learning Course（学習コース）
- Target Score（目標スコア）

**主要なイベント**：

- Googleアカウントで認証された
- ユーザーアカウントが作成された
- 学習コースが選択された
- 目標スコアが設定された

### 2. Vocabulary Context（語彙コンテキスト）

**責務**：

- グローバル辞書の管理
- 項目（単語、フレーズ、熟語）のCRUD操作
- AI を活用した項目情報の生成

**主要な概念**：

- Item（項目）
- Global Dictionary（グローバル辞書）
- Created By（作成者）

**主要なイベント**：

- 新しい項目が入力された
- AI に項目情報生成が要求された
- 項目情報が生成された
- グローバル辞書に保存された

### 3. Learning Context（学習コンテキスト）

**責務**：

- 学習セッションの管理
- テストの実施
- ユーザーの反応記録
- 「覚えた」状態の判定

**主要な概念**：

- Learning Session（学習セッション）
- Test Question（テスト問題）
- Response（反応）
- Mastered State（「覚えた」状態）

**主要なイベント**：

- 復習テストが開始された
- 項目が表示された
- ユーザーが反応した
- 項目が「覚えた」と判定された
- テストセッションが完了した

### 4. Learning Algorithm Context（学習アルゴリズムコンテキスト）

**責務**：

- 復習スケジュールの計算
- SM-2 アルゴリズムの実装
- 次回復習日の決定
- 難易度係数の管理

**主要な概念**：

- Review Interval（復習間隔）
- Difficulty Factor（難易度係数）
- Repetition Count（反復回数）

**主要なイベント**：

- 復習間隔が計算された
- 難易度係数が更新された
- 次回復習日が決定された

### 5. Progress Context（進捗コンテキスト）

**責務**：

- 学習統計の集計
- 領域別（R/W/L/S）の進捗分析
- IELTS スコアの推定
- データの可視化（レーダーチャート等）

**主要な概念**：

- Learning Statistics（学習統計）
- Domain Progress（領域別進捗）
- IELTS Score Estimation（IELTSスコア推定）

**主要なイベント**：

- 学習統計が更新された
- 領域別スコアが計算された
- レーダーチャートが生成された
- IELTSスコアが推定された

### 6. AI Integration Context（AI統合コンテキスト）

**責務**：

- AI サービス（OpenAI/Gemini）への統合
- テスト項目の選定（カスタマイズ含む）
- 深掘りチャット機能の提供
- 項目情報生成サービスの提供

**主要な概念**：

- AI Service（AIサービス）
- Deep Dive Chat（深掘りチャット）
- Test Customization（テストカスタマイズ）

**主要なイベント**：

- AI深掘りが要求された
- AIとのチャットセッションが開始された
- AIへのテストカスタマイズ指示が送信された
- AIがテスト内容を生成した

## 境界の判断基準

各コンテキストの境界は以下の基準で決定されています：

1. **言語の一貫性**：各コンテキスト内で使用される用語が統一されている
2. **責務の独立性**：各コンテキストが独自の責務を持ち、他に依存しない
3. **変更理由の独立性**：異なる理由で変更される部分は異なるコンテキストに分離

## コンテキスト間の依存関係

詳細な関係性は[コンテキストマップ](./context-map.md)を参照してください。

## 更新履歴

- 2025-07-27: 初版作成（6つのコンテキストを定義）
